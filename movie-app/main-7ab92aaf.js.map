{"version":3,"file":"main-7ab92aaf.js","mappings":"4CAAAA,OAAOC,QAAU,SAASC,UAAUC,OAAQC,SAAUC,QAASC,SAE/DF,SAAWA,UAAY,SAAUG,QAC/B,OAAiBC,MAAVD,OACH,GACAE,OAAOF,QACNG,QAAQC,YAAaC,cAE5B,IAAIC,mBAAqB,CACnB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,SAEPF,YAAc,WAClB,SAASC,YAAYE,GACnB,OAAOD,mBAAmBC,IAAMA,EAGhC,IAAIC,SAAW,GACf,SAASC,SAASC,GAASA,MAAAA,IAA+BF,UAAYE,GACtE,KAAMd,QAAU,GACZa,SAAS,8FAEb,OAAOD,W,4DCzBTf,OAAOC,QAAU,SAASC,UAAUC,OAAQC,SAAUC,QAASC,SAE/DF,SAAWA,UAAY,SAAUG,QAC/B,OAAiBC,MAAVD,OACH,GACAE,OAAOF,QACNG,QAAQC,YAAaC,cAE5B,IAAIC,mBAAqB,CACnB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,SAEPF,YAAc,WAClB,SAASC,YAAYE,GACnB,OAAOD,mBAAmBC,IAAMA,EAGhC,IAAIC,SAAW,GACf,SAASC,SAASC,GAASA,MAAAA,IAA+BF,UAAYE,GACtE,KAAMd,QAAU,GACZa,SAAS,2IACTA,SAASZ,SAAUD,OAAOe,SAC1BF,SAAS,WACTA,SAASZ,SAAUD,OAAOgB,QAC1BH,SAAS,4JACTA,SAASZ,SAAUD,OAAOgB,QAC1BH,SAAS,gKACTA,SAASZ,SAAUD,OAAOiB,OAC1BJ,SAAS,sMACTA,SAASZ,SAAUD,OAAOkB,UAC1BL,SAAS,WACTA,SAASZ,SAAUD,OAAOmB,OAC1BN,SAAS,qMACTA,SAASZ,SAAUD,OAAOoB,WAC1BP,SAAS,yLACTA,SAASZ,SAAUD,OAAOqB,SAC1BR,SAAS,yLACTA,SAASZ,SAAUD,OAAOsB,SAC1BT,SAAS,+LACTA,SAASZ,SAAUD,OAAOuB,WAC1BV,SAAS,0LACTA,SAASZ,SAAUD,OAAOwB,UAC1BX,SAAS,6LACTA,SAASZ,SAAUD,OAAOyB,YAC1BZ,SAAS,yLACTA,SAASZ,SAAUD,OAAO0B,SAC1Bb,SAAS,sLACTA,SAASZ,SAAUD,OAAO2B,MAC1Bd,SAAS,wLACTA,SAASZ,SAAUD,OAAO4B,QAC1Bf,SAAS,mJACTA,SAASZ,SAAU,oBAAQ,MAC3BY,SAAS,oDACTA,SAASZ,SAAUD,OAAO6B,aAC1BhB,SAAS,8CACJb,OAAO8B,SACZjB,SAAS,oFACTA,SAASZ,SAAU,oBAAQ,OAC3BY,SAAS,iEACTA,SAASZ,SAAUD,OAAO8B,SAC1BjB,SAAS,kCAETA,SAAS,gDAEb,OAAOD,W,4DCnETf,OAAOC,QAAU,SAASC,UAAUC,OAAQC,SAAUC,QAASC,SAE/DF,SAAWA,UAAY,SAAUG,QAC/B,OAAiBC,MAAVD,OACH,GACAE,OAAOF,QACNG,QAAQC,YAAaC,cAE5B,IAAIC,mBAAqB,CACnB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,SAEPF,YAAc,WAClB,SAASC,YAAYE,GACnB,OAAOD,mBAAmBC,IAAMA,EAGhC,IAAIC,SAAW,GACf,SAASC,SAASC,GAASA,MAAAA,IAA+BF,UAAYE,GACtE,KAAMd,QAAU,GACZa,SAAS,sDACTA,SAASZ,SAAUD,OAAO+B,SAC1BlB,SAAS,8FACTA,SAASZ,SAAUD,OAAOgC,OAC1BnB,SAAS,4DACTA,SAASZ,SAAUD,OAAOe,SAC1BF,SAAS,WACTA,SAASZ,SAAUD,OAAOgB,QAC1BH,SAAS,wIACTA,SAASZ,SAAUD,OAAOkB,UAC1BL,SAAS,yDACTA,SAASZ,SAAUD,OAAOmB,OAC1BN,SAAS,2DACTA,SAASZ,SAAUD,OAAOgB,QAC1BH,SAAS,2GACTA,SAASZ,SAAU,oBAAQ,MAC3BY,SAAS,kDACTA,SAASZ,SAAUD,OAAO6B,aAC1BhB,SAAS,0CACJb,OAAO8B,SACZjB,SAAS,qEACTA,SAASZ,SAAU,oBAAQ,OAC3BY,SAAS,+DACTA,SAASZ,SAAUD,OAAO8B,SAC1BjB,SAAS,8BAETA,SAAS,4FACTA,SAASZ,SAAUD,OAAOiC,QAC1BpB,SAAS,0CAEb,OAAOD,W,aCrDTf,OAAOC,QAAU,SAASC,UAAUC,OAAQC,SAAUC,QAASC,SAE/DF,SAAWA,UAAY,SAAUG,QAC/B,OAAiBC,MAAVD,OACH,GACAE,OAAOF,QACNG,QAAQC,YAAaC,cAE5B,IAAIC,mBAAqB,CACnB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,SAEPF,YAAc,WAClB,SAASC,YAAYE,GACnB,OAAOD,mBAAmBC,IAAMA,EAGhC,IAAIC,SAAW,GACf,SAASC,SAASC,GAASA,MAAAA,IAA+BF,UAAYE,GACtE,KAAMd,QAAU,GACZa,SAAS,iBACTA,SAASZ,SAAUD,OAAO+B,SAC1BlB,SAAS,UACTA,SAASZ,SAAUD,OAAOgB,QAC1BH,SAAS,WACTA,SAASZ,SAAUD,OAAOmB,OAC1BN,SAAS,YAEb,OAAOD,W,sxEC9BLsB,yBAA2B,GAG/B,SAASC,oBAAoBC,UAE5B,IAAIC,aAAeH,yBAAyBE,UAC5C,QAAqB/B,IAAjBgC,aACH,OAAOA,aAAavC,QAGrB,IAAID,OAASqC,yBAAyBE,UAAY,CAGjDtC,QAAS,IAOV,OAHAwC,oBAAoBF,UAAUvC,OAAQA,OAAOC,QAASqC,qBAG/CtC,OAAOC,QCpBfqC,oBAAoBI,EAAK1C,SACxB,IAAI2C,OAAS3C,QAAUA,OAAO4C,WAC7B,IAAO5C,OAAiB,QACxB,IAAM,OAEP,OADAsC,oBAAoBO,EAAEF,OAAQ,CAAEG,EAAGH,SAC5BA,QCLRL,oBAAoBO,EAAI,CAAC5C,QAAS8C,cACjC,IAAI,IAAIC,OAAOD,WACXT,oBAAoBW,EAAEF,WAAYC,OAASV,oBAAoBW,EAAEhD,QAAS+C,MAC5EE,OAAOC,eAAelD,QAAS+C,IAAK,CAAEI,YAAY,EAAMC,IAAKN,WAAWC,QCJ3EV,oBAAoBW,EAAI,CAACK,IAAKC,OAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,IAAKC,MCAlFjB,oBAAoBqB,EAAI,G,qLCET,SAASC,aAAaC,OACnC,OAAOA,MAAMC,QAAO,CAACC,OAAQC,OACpBD,OAIX,SAASE,eAAeD,MACtB,OAAOE,oBAAAA,CAAkBF,MALPC,CAAeD,OAC9B,I,oSCME,SAASG,eAAeC,EAAGC,SAChC,OAAOD,IAAMA,EAAEE,KAAKC,MAAKC,IAAMA,GAAGC,WAAaD,GAAGC,UAAUC,SAASL,W,6CCAvE,MAAMM,WAAaC,SAASC,cAAc,gBACpCC,YAAcH,WAAWE,cAAc,uBACvCE,WAAaJ,WAAWE,cAAc,6BACtCG,YAAcL,WAAWE,cAAc,8BACvCI,WAAaL,SAASC,cAAc,gBACpCK,MAAQN,SAASC,cAAc,UAE/BM,WAAa,ICnBJ,MAAMC,eACnBC,cACEC,KAAKC,OAASC,WACdF,KAAKG,UAAa,mCAAkCH,KAAKC,UACzDD,KAAKI,YAAe,GAAEJ,KAAKG,cAC3BH,KAAKK,WAAc,GAAEL,KAAKG,wBAC1BH,KAAKM,QAAW,GAAEN,KAAKG,wBAGzBI,gBAAgBC,KACd,OAAOR,KAAKI,YAAcK,mBAAmBD,KAG/CE,mBAAmBC,IACjB,OAAOX,KAAKM,QAAUG,mBAAmBE,IAG3CC,sBAAsBC,OACpB,OAAOb,KAAKK,WAAaI,mBAAmBI,OAG9CC,OAASC,MAAAA,QACP,IACE,MAAMC,eAAiBC,MAAMC,OACvBC,WAAaH,SAASI,OAC5B,GAAID,KAAKE,QAAS,CAChB,MAAM1E,OAASwE,KAAKE,QAAQpC,MAAKP,MAAwB,oBAAhBA,KAAK4C,SAC1C3E,SACFwE,KAAKxE,OAASA,OAAO4E,OAGzB,OAAOJ,KAEP,MAAOK,OACPC,QAAQD,MAAMA,SAGN,aAAChB,KAEX,aADoBR,KAAKc,OAAOd,KAAKO,gBAAgBC,MAIhC,wBAACK,OACtB,aAAab,KAAKc,OAAOd,KAAKY,sBAAsBC,QAGlC,qBAACF,IACnB,aAAaX,KAAKc,OAAOd,KAAKU,mBAAmBC,KAG9B,sBAACe,KACpB,IAIE,aAHmBC,QAAQC,IACzBF,IAAIG,KAAIlB,IAAMX,KAAKc,OAAOd,KAAKU,mBAAmBC,QAIpD,MAAOa,OACPC,QAAQD,MAAMA,UDpCpB,IAAIM,kBAAoB,CACtBC,OAAQ,KACRZ,KAAM,MAEJa,cAAgB,GAChBC,kBAAoB,KACxB,MAAMC,aAAe,qDAErBnB,eAAeoB,uBAAuBrD,GACpCA,GAAKA,EAAEsD,iBAEP,MAAMC,iBAAmB7C,YAAY8C,MACrC,GAAyB,KAArBD,iBACF,OAEF,MAAME,iBAAmBR,OAAOM,kBAEhCG,iBACA,IAAIrB,KAAO,KACX,GAAIoB,WAAWE,OACb,GAAIX,kBAAkBC,SAAWC,cAAe,CAC9CrC,WAAW+C,UAAYC,gBAAAA,GAEvB,MAAMjB,IAAMa,WAAWE,OAAOZ,KAAI,EAAGjF,UAAaA,SAClDuE,WAAatB,WAAW+C,gBAAgBlB,KACxCI,kBAAkBC,OAASC,cAC3BF,kBAAkBX,KAAOA,UAEzBA,KAAOW,kBAAkBX,KAI7B0B,oBAAoBlD,YAEpBA,WAAW+C,UAAYvB,KAAO7C,aAAa6C,MAAQe,aAGrD,SAASW,oBAAoBC,WAC3BC,YAAW,KACT,MAAMC,KAAOF,UAAUG,iBAAiB,WACxC,IAAI,MAAMC,OAAOF,KACfE,IAAIC,iBAAiB,QAASC,mBAKpC,SAASA,eAAetE,GACtBA,EAAEuE,OAAOC,IAAMC,gBACfzE,EAAEuE,OAAOG,oBAAoB,QAASJ,gBA0BxCrC,eAAegB,OAAOO,OACpB,IAAIC,WAAa,KAQjB,OAPID,QAAUN,cACZO,WAAaN,mBAEbM,iBAAmB1C,WAAWkC,OAAOO,OACrCN,cAAgBM,MAChBL,kBAAoBM,YAEfA,WAGTxB,eAAe0C,kBAAkB3E,GAC/B,MAAMuD,iBAAmB7C,YAAY8C,MAErC,GAAyB,KAArBD,iBAMF,OALAL,cAAgB,GAChBC,kBAAoB,KACpBxC,WAAWiD,UAAY,GACvBhD,YAAYP,UAAUuE,IAAI,iCAC1BlB,iBAGF9C,YAAYP,UAAUwE,OAAO,4BAC7BC,iBACAnE,WAAWiD,UAAYC,gBAAAA,GAEvB,MAAMJ,iBAAmBR,OAAOM,kBAEhC,IAAIwB,KAAO,KACPtB,WAAWE,SACboB,KAAOtB,WAAWE,OACfZ,KAAInD,MAAQoF,0BAAAA,CAAuBpF,QACnCqF,KAAK,KAEVtE,WAAWiD,UAAYmB,MAAQ3B,aAuBjC,SAAS0B,iBACPtE,SAAS6D,iBAAiB,QAASa,qBACnCvE,WAAWN,UAAUuE,IAAI,iCAG3B,SAASlB,iBACPlD,SAASkE,oBAAoB,QAASQ,qBACtCvE,WAAWN,UAAUwE,OAAO,iCAG9B,SAASK,oBAAoBlF,GACvBD,eAAeC,EAAG,gBACpB0D,iBAWJnD,WAAW8D,iBAAiB,SAAUhB,wBACtC3C,YAAY2D,iBAAiB,QDlLL,EAACc,GAAIC,MAC3B,IAAIC,MAAQ,KAOZ,OANA,SAASC,WAAWC,MAClBC,aAAaH,OACbA,MAAQpB,YAAW,KACjBmB,MAAMG,QACLJ,MC4K+BM,CAAS,IAAKd,oBACpDjE,YAAY2D,iBAAiB,SAT7B,SAASqB,uBAAuB1F,GACR,KAAlBkD,eAGJ4B,oBAMFlE,YAAYyD,iBAAiB,SAhC7B,SAASsB,uBAAuB3F,GAC9BU,YAAY8C,MAAQ,GACpB5C,YAAYP,UAAUuE,IAAI,4BAC1BD,uBA8BFhE,WAAW0D,iBAAiB,SA/C5BpC,eAAe2D,sBAAsB5F,GAGnC,GAFAa,WAAW+C,UAAYC,gBAAAA,GAEnB7D,EAAEuE,OAAOsB,QAAS,CACpB,MAAMhE,GAAK7B,EAAEuE,OAAOsB,QAAQhE,GAEtBlC,OAASH,aADF,OAAOuB,WAAW+E,eAAejE,MAE9ChB,WAAW+C,UAAYjE,OAEvBoE,oBAAoBlD,YACpB6C,qBAsCJ7C,WAAWwD,iBAAiB,SA7G5B,SAAS0B,qBAAqB/F,GAC5B,MAAMgG,UAAYhG,EAAEuE,OAAO0B,QAAQ,eACnC,GAAID,UAAW,CACb,IAAKhD,kBAAkBX,KACrB,OAEFvB,MAAMT,UAAUuE,IAAI,cACpB,MAAMsB,MAAQpF,MAAML,cAAc,gBAE5B0F,UAAYnD,kBAAkBX,KAAKlC,MAAKC,IAAMA,GAAGtC,SAAWkI,UAAUH,QAAQhE,KAC9EkD,KAAOqB,yBAAAA,CAAsBD,WACnCD,MAAMtC,UAAYmB,KAElBhB,oBAAoBmC,WAiGxBpF,MAAMuD,iBAAiB,SA7FvB,SAASgC,iBAAiBrG,GACpBD,eAAeC,EAAG,gBACpBc,MAAMT,UAAUwE,OAAO,iBA8F3B5C,eAAeqE,OACb5F,YAAY8C,MAAQ,kBACdmB,0BACAtB,yBACN3C,YAAY6F,QAGdD,GACA3D,QAAQ6D,IAAIC,e","sources":["webpack:///./templates/loader.ejs","webpack:///./templates/movie-card-full.ejs","webpack:///./templates/movie-card.ejs","webpack:///./templates/search-list-item.ejs","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/publicPath","webpack:///./js/movies.js","webpack:///./js/helpers.js","webpack:///./index.js","webpack:///./js/services/omdbApiService.js"],"sourcesContent":["module.exports = function anonymous(locals, escapeFn, include, rethrow\n) {\nescapeFn = escapeFn || function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nvar _ENCODE_HTML_RULES = {\n      \"&\": \"&amp;\"\n    , \"<\": \"&lt;\"\n    , \">\": \"&gt;\"\n    , '\"': \"&#34;\"\n    , \"'\": \"&#39;\"\n    }\n  , _MATCH_HTML = /[&<>'\"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n;\n  var __output = \"\";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n  with (locals || {}) {\n    ; __append(\"<div class=\\\"lds-ring\\\">\\n  <div></div>\\n  <div></div>\\n  <div></div>\\n  <div></div>\\n</div>\")\n  }\n  return __output;\n\n}","module.exports = function anonymous(locals, escapeFn, include, rethrow\n) {\nescapeFn = escapeFn || function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nvar _ENCODE_HTML_RULES = {\n      \"&\": \"&amp;\"\n    , \"<\": \"&lt;\"\n    , \">\": \"&gt;\"\n    , '\"': \"&#34;\"\n    , \"'\": \"&#39;\"\n    }\n  , _MATCH_HTML = /[&<>'\"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n;\n  var __output = \"\";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n  with (locals || {}) {\n    ; __append(\"<div class=\\\"movie-card-full\\\">\\n  <div class=\\\"movie-card-full__poster-container\\\">\\n    <img class=\\\"movie-card-full__poster poster\\\" src=\\\"\")\n    ; __append(escapeFn( locals.Poster ))\n    ; __append(\"\\\" alt=\\\"\")\n    ; __append(escapeFn( locals.Title ))\n    ; __append(\"\\\">\\n  </div>\\n  <div class=\\\"movie-card-full__info-block\\\">\\n    <div class=\\\"movie-card-full__title-container\\\">\\n      <h2 class=\\\"movie-card-full__title\\\">\")\n    ; __append(escapeFn( locals.Title ))\n    ; __append(\"</h2>\\n    </div>\\n    <div class=\\\"movie-card-full__content\\\">\\n      <div class=\\\"movie-card-full__row\\\">\\n        <span class=\\\"movie-card-full__row-content\\\">\")\n    ; __append(escapeFn( locals.Plot ))\n    ; __append(\"</span>\\n      </div>\\n      <div class=\\\"movie-card-full__row\\\">\\n        <span class=\\\"movie-card-full__row-title\\\">Country:</span>\\n        <span class=\\\"movie-card-full__row-content\\\">\\n          \")\n    ; __append(escapeFn( locals.Country ))\n    ; __append(\",&nbsp;\")\n    ; __append(escapeFn( locals.Year ))\n    ; __append(\"\\n        </span>\\n      </div>\\n      <div class=\\\"movie-card-full__row\\\">\\n        <span class=\\\"movie-card-full__row-title\\\">Director:</span>\\n        <span class=\\\"movie-card-full__row-content\\\">\")\n    ; __append(escapeFn( locals.Director ))\n    ; __append(\"</span>\\n      </div>\\n      <div class=\\\"movie-card-full__row\\\">\\n        <span class=\\\"movie-card-full__row-title\\\">Writer:</span>\\n        <span class=\\\"movie-card-full__row-content\\\">\")\n    ; __append(escapeFn( locals.Writer ))\n    ; __append(\"</span>\\n      </div>\\n      <div class=\\\"movie-card-full__row\\\">\\n        <span class=\\\"movie-card-full__row-title\\\">Actors:</span>\\n        <span class=\\\"movie-card-full__row-content\\\">\")\n    ; __append(escapeFn( locals.Actors ))\n    ; __append(\"</span>\\n      </div>\\n      <div class=\\\"movie-card-full__row\\\">\\n        <span class=\\\"movie-card-full__row-title\\\">Release date:</span>\\n        <span class=\\\"movie-card-full__row-content\\\">\")\n    ; __append(escapeFn( locals.Released ))\n    ; __append(\"</span>\\n      </div>\\n      <div class=\\\"movie-card-full__row\\\">\\n        <span class=\\\"movie-card-full__row-title\\\">Runtime:</span>\\n        <span class=\\\"movie-card-full__row-content\\\">\")\n    ; __append(escapeFn( locals.Runtime ))\n    ; __append(\"</span>\\n      </div>\\n      <div class=\\\"movie-card-full__row\\\">\\n        <span class=\\\"movie-card-full__row-title\\\">Box office:</span>\\n        <span class=\\\"movie-card-full__row-content\\\">\")\n    ; __append(escapeFn( locals.BoxOffice ))\n    ; __append(\"</span>\\n      </div>\\n      <div class=\\\"movie-card-full__row\\\">\\n        <span class=\\\"movie-card-full__row-title\\\">Awards:</span>\\n        <span class=\\\"movie-card-full__row-content\\\">\")\n    ; __append(escapeFn( locals.Awards ))\n    ; __append(\"</span>\\n      </div>\\n      <div class=\\\"movie-card-full__row\\\">\\n        <span class=\\\"movie-card-full__row-title\\\">DVD:</span>\\n        <span class=\\\"movie-card-full__row-content\\\">\")\n    ; __append(escapeFn( locals.DVD ))\n    ; __append(\"</span>\\n      </div>\\n      <div class=\\\"movie-card-full__row\\\">\\n        <span class=\\\"movie-card-full__row-title\\\">Rated:</span>\\n        <span class=\\\"movie-card-full__row-content\\\">\")\n    ; __append(escapeFn( locals.Rated ))\n    ; __append(\"</span>\\n      </div>\\n      <div class=\\\"movie-card-full__ratings\\\">\\n        <span class=\\\"movie-card-full__ratings-item\\\">\\n          <img src=\\\"\")\n    ; __append(escapeFn( require('../assets/imdb.png') ))\n    ; __append(\"\\\" alt=\\\"imdb\\\" width=\\\"35\\\" height=\\\"17\\\">\\n          \")\n    ; __append(escapeFn( locals.imdbRating ))\n    ; __append(\"&nbsp;/&nbsp;10\\n        </span>\\n        \")\n    ;  if (locals.rotten) { \n    ; __append(\"\\n          <span class=\\\"movie-card-full__ratings-item\\\">\\n            <img src=\\\"\")\n    ; __append(escapeFn( require('../assets/rotten.png') ))\n    ; __append(\"\\\" alt=\\\"rotten tomatoes\\\" width=\\\"16\\\" height=\\\"17\\\">\\n            \")\n    ; __append(escapeFn( locals.rotten ))\n    ; __append(\"\\n          </span>\\n        \")\n    ;  } \n    ; __append(\"\\n      </div>\\n    </div>\\n  </div>\\n</div>\")\n  }\n  return __output;\n\n}","module.exports = function anonymous(locals, escapeFn, include, rethrow\n) {\nescapeFn = escapeFn || function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nvar _ENCODE_HTML_RULES = {\n      \"&\": \"&amp;\"\n    , \"<\": \"&lt;\"\n    , \">\": \"&gt;\"\n    , '\"': \"&#34;\"\n    , \"'\": \"&#39;\"\n    }\n  , _MATCH_HTML = /[&<>'\"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n;\n  var __output = \"\";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n  with (locals || {}) {\n    ; __append(\"<li class=\\\"movies-list__item movie-card\\\" data-id=\\\"\")\n    ; __append(escapeFn( locals.imdbID ))\n    ; __append(\"\\\">\\n  <div class=\\\"movie-card__poster-container\\\">\\n    <div class=\\\"movie-card__movie-type\\\">\")\n    ; __append(escapeFn( locals.Type ))\n    ; __append(\"</div>\\n    <img class=\\\"movie-card__poster poster\\\" src=\\\"\")\n    ; __append(escapeFn( locals.Poster ))\n    ; __append(\"\\\" alt=\\\"\")\n    ; __append(escapeFn( locals.Title ))\n    ; __append(\"\\\">\\n  </div>\\n  <div class=\\\"movie-card__text-content\\\">\\n    <div class=\\\"movie-card__info\\\">\\n      <span class=\\\"movie-card__country\\\">\")\n    ; __append(escapeFn( locals.Country ))\n    ; __append(\"</span>,&nbsp;\\n      <span class=\\\"movie-card__year\\\">\")\n    ; __append(escapeFn( locals.Year ))\n    ; __append(\"</span>\\n    </div>\\n    <h2 class=\\\"movie-card__title\\\">\")\n    ; __append(escapeFn( locals.Title ))\n    ; __append(\"</h2>\\n    <div class=\\\"movie-card__ratings\\\">\\n      <span class=\\\"movie-card__imdb\\\">\\n        <img src=\\\"\")\n    ; __append(escapeFn( require('../assets/imdb.png') ))\n    ; __append(\"\\\" alt=\\\"imdb\\\" width=\\\"35\\\" height=\\\"17\\\">\\n        \")\n    ; __append(escapeFn( locals.imdbRating ))\n    ; __append(\"&nbsp;/&nbsp;10\\n      </span>\\n      \")\n    ;  if (locals.rotten) { \n    ; __append(\"\\n        <span class=\\\"movie-card__rotten\\\">\\n          <img src=\\\"\")\n    ; __append(escapeFn( require('../assets/rotten.png') ))\n    ; __append(\"\\\" alt=\\\"rotten tomatoes\\\" width=\\\"16\\\" height=\\\"17\\\">\\n          \")\n    ; __append(escapeFn( locals.rotten ))\n    ; __append(\"\\n        </span>\\n      \")\n    ;  } \n    ; __append(\"\\n    </div>\\n    <div class=\\\"movie-card__info\\\">\\n      <span class=\\\"movie-card__genre\\\">\")\n    ; __append(escapeFn( locals.Genre ))\n    ; __append(\"</span>\\n    </div>\\n  </div>\\n</li>\\n\")\n  }\n  return __output;\n\n}","module.exports = function anonymous(locals, escapeFn, include, rethrow\n) {\nescapeFn = escapeFn || function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nvar _ENCODE_HTML_RULES = {\n      \"&\": \"&amp;\"\n    , \"<\": \"&lt;\"\n    , \">\": \"&gt;\"\n    , '\"': \"&#34;\"\n    , \"'\": \"&#39;\"\n    }\n  , _MATCH_HTML = /[&<>'\"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n;\n  var __output = \"\";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n  with (locals || {}) {\n    ; __append(\"<li data-id=\\\"\")\n    ; __append(escapeFn( locals.imdbID ))\n    ; __append(\"\\\">\\n  \")\n    ; __append(escapeFn( locals.Title ))\n    ; __append(\"&nbsp;(\")\n    ; __append(escapeFn( locals.Year ))\n    ; __append(\")\\n</li>\")\n  }\n  return __output;\n\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"\";","import movieCardTemplate from '../templates/movie-card.ejs';\n\nexport default function renderMovies(items) {\n  return items.reduce((movies, item) => {\n    return movies + renderListItem(item);\n  }, '');\n}\n\nfunction renderListItem(item) {\n  return movieCardTemplate(item);\n}\n\n","export const debounce = (ms, fn) => {\n  let timer = null;\n  function wrapper(...args) {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      fn(...args);\n    }, ms);\n  }\n  return wrapper;\n}\n\nexport function isClickOutside(e, element) {\n  return e && !e.path.find(el => el.classList && el.classList.contains(element));\n}","import './styles/index.scss';\nimport requirements from '../requirements.md';\nimport OmdbApiService from './js/services/omdbApiService';\nimport DummyService from './js/services/dummyService';\nimport renderMovies from './js/movies';\nimport movieFullCardTemplate from './templates/movie-card-full.ejs';\nimport searchListItemTemplate from './templates/search-list-item.ejs';\nimport loaderTemplate from './templates/loader.ejs';\nimport { debounce, isClickOutside } from './js/helpers';\n\nimport imagePlaceholder from './assets/img-placeholder.svg';\n\nconst searchForm = document.querySelector('.search-form');\nconst searchInput = searchForm.querySelector('.search-form__input');\nconst searchList = searchForm.querySelector('.search-form__search-list')\nconst clearButton = searchForm.querySelector('.search-form__button_clear');\nconst moviesList = document.querySelector('.movies-list');\nconst popup = document.querySelector('.popup');\n\nconst apiService = new OmdbApiService();\n// const apiService = new DummyService();\n\nlet currentLoadedData = {\n  search: null,\n  data: null\n};\nlet currentSearch = '';\nlet currentSearchData = null;\nconst errorMessage = '<p style=\"padding-left: 10px;\">No movies found</p>';\n\nasync function handleSearchFormSubmit(e) {\n  e && e.preventDefault();\n\n  const searchInputValue = searchInput.value;\n  if (searchInputValue === '') {\n    return;\n  }\n  const searchData = await search(searchInputValue);\n\n  hideSearchList();\n  let data = null;\n  if (searchData.Search) {\n    if (currentLoadedData.search !== currentSearch) {\n      moviesList.innerHTML = loaderTemplate();\n      \n      const ids = searchData.Search.map(({ imdbID }) => imdbID);\n      data = await apiService.fetchMoviesById(ids);\n      currentLoadedData.search = currentSearch;\n      currentLoadedData.data = data;\n    } else {\n      data = currentLoadedData.data;\n    }\n  }\n\n  handleImgLoadErrors(moviesList);\n  \n  moviesList.innerHTML = data ? renderMovies(data) : errorMessage;\n}\n\nfunction handleImgLoadErrors(container) {\n  setTimeout(() => {\n    const imgs = container.querySelectorAll('.poster');\n    for(const img of imgs) {\n      img.addEventListener('error', handleImgError);\n    }\n  });\n}\n\nfunction handleImgError(e) {\n  e.target.src = imagePlaceholder;\n  e.target.removeEventListener('error', handleImgError);\n}\n\nfunction handleMovieListClick(e) {\n  const movieCard = e.target.closest('.movie-card');\n  if (movieCard) {\n    if (!currentLoadedData.data) {\n      return;\n    }\n    popup.classList.add('popup_show');\n    const inner = popup.querySelector('.popup__card');\n\n    const movieData = currentLoadedData.data.find(el => el.imdbID === movieCard.dataset.id);\n    const html = movieFullCardTemplate(movieData);\n    inner.innerHTML = html;\n\n    handleImgLoadErrors(inner);\n  }\n}\n\nfunction handlePopupClick(e) {\n  if (isClickOutside(e, 'popup__card')) {\n    popup.classList.remove('popup_show');\n  }\n}\n\nasync function search(value) {\n  let searchData = null;\n  if (value === currentSearch) {\n    searchData = currentSearchData;\n  } else {\n    searchData = await apiService.search(value);\n    currentSearch = value;\n    currentSearchData = searchData;\n  }\n  return searchData;\n}\n\nasync function handleSearchInput(e) {\n  const searchInputValue = searchInput.value;\n\n  if (searchInputValue === '') {\n    currentSearch = '';\n    currentSearchData = null;\n    searchList.innerHTML = '';\n    clearButton.classList.add('search-form__button_hide');\n    hideSearchList();\n    return;\n  }\n  clearButton.classList.remove('search-form__button_hide');\n  showSearchList();\n  searchList.innerHTML = loaderTemplate();\n  \n  const searchData = await search(searchInputValue);\n\n  let html = null;\n  if (searchData.Search) {\n    html = searchData.Search\n      .map(item => searchListItemTemplate(item))\n      .join('');\n  }\n  searchList.innerHTML = html || errorMessage;\n}\n\nasync function handleSearchListClick(e) {\n  moviesList.innerHTML = loaderTemplate();\n\n  if (e.target.dataset) {\n    const id = e.target.dataset.id;\n    const data = [await apiService.fetchMovieById(id)];\n    const movies = renderMovies(data);\n    moviesList.innerHTML = movies;\n    \n    handleImgLoadErrors(moviesList);\n    hideSearchList();\n  }\n}\n\nfunction handleClearButtonClick(e) {\n  searchInput.value = '';\n  clearButton.classList.add('search-form__button_hide');\n  handleSearchInput();\n}\n\nfunction showSearchList() {\n  document.addEventListener('click', handleDocumentClick);\n  searchList.classList.add('search-form__search-list_show');\n}\n\nfunction hideSearchList() {\n  document.removeEventListener('click', handleDocumentClick);\n  searchList.classList.remove('search-form__search-list_show');\n}\n\nfunction handleDocumentClick(e) {\n  if (isClickOutside(e, 'search-form')) {\n    hideSearchList();\n  }\n}\n\nfunction handleSearchInputFocus(e) {\n  if (currentSearch === '') {\n    return;\n  }\n  showSearchList();\n}\n\nsearchForm.addEventListener('submit', handleSearchFormSubmit);\nsearchInput.addEventListener('input', debounce(500, handleSearchInput));\nsearchInput.addEventListener('focus', handleSearchInputFocus);\nclearButton.addEventListener('click', handleClearButtonClick);\nsearchList.addEventListener('click', handleSearchListClick);\nmoviesList.addEventListener('click', handleMovieListClick);\npopup.addEventListener('click', handlePopupClick);\n\n\nasync function init() {\n  searchInput.value = 'star wars';\n  await handleSearchInput();\n  await handleSearchFormSubmit();\n  searchInput.focus();\n}\n\ninit();\nconsole.log(requirements);","export default class OmdbApiService {\n  constructor() {\n    this.apiKey = OMDB_API_KEY;\n    this.baseQuery = `https://www.omdbapi.com/?apikey=${this.apiKey}&`;\n    this.searchQuery = `${this.baseQuery}s=`;\n    this.titleQuery = `${this.baseQuery}plot=full&t=`;\n    this.idQuery = `${this.baseQuery}plot=full&i=`;\n  }\n\n  _getSearchQuery(str) {\n    return this.searchQuery + encodeURIComponent(str);\n  }\n\n  _getFetchByIdQuery(id) {\n    return this.idQuery + encodeURIComponent(id)\n  }\n\n  _getFetchByTitleQuery(title) {\n    return this.titleQuery + encodeURIComponent(title)\n  }\n\n  _fetch = async query => {\n    try {\n      const response = await fetch(query);\n      const data = await response.json();\n      if (data.Ratings) {\n        const rotten = data.Ratings.find(item => item.Source === 'Rotten Tomatoes');\n        if (rotten) {\n          data.rotten = rotten.Value;\n        }\n      }\n      return data;\n\n    } catch (error) {\n      console.error(error) ;\n    }\n  }\n  async search(str) {\n    const data =  await this._fetch(this._getSearchQuery(str));\n    return data;\n  }\n\n  async fetchMovieByTitle(title) {\n    return await this._fetch(this._getFetchByTitleQuery(title));\n  }\n\n  async fetchMovieById(id) {\n    return await this._fetch(this._getFetchByIdQuery(id));\n  }\n\n  async fetchMoviesById(ids) {\n    try {\n      const data = await Promise.all(\n        ids.map(id => this._fetch(this._getFetchByIdQuery(id)))\n      );\n      return data;\n\n    } catch (error) {\n      console.error(error);\n    }\n  }\n}"],"names":["module","exports","anonymous","locals","escapeFn","include","rethrow","markup","undefined","String","replace","_MATCH_HTML","encode_char","_ENCODE_HTML_RULES","c","__output","__append","s","Poster","Title","Plot","Country","Year","Director","Writer","Actors","Released","Runtime","BoxOffice","Awards","DVD","Rated","imdbRating","rotten","imdbID","Type","Genre","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","p","renderMovies","items","reduce","movies","item","renderListItem","movieCardTemplate","isClickOutside","e","element","path","find","el","classList","contains","searchForm","document","querySelector","searchInput","searchList","clearButton","moviesList","popup","apiService","OmdbApiService","constructor","this","apiKey","OMDB_API_KEY","baseQuery","searchQuery","titleQuery","idQuery","_getSearchQuery","str","encodeURIComponent","_getFetchByIdQuery","id","_getFetchByTitleQuery","title","_fetch","async","response","fetch","query","data","json","Ratings","Source","Value","error","console","ids","Promise","all","map","currentLoadedData","search","currentSearch","currentSearchData","errorMessage","handleSearchFormSubmit","preventDefault","searchInputValue","value","searchData","hideSearchList","Search","innerHTML","loaderTemplate","fetchMoviesById","handleImgLoadErrors","container","setTimeout","imgs","querySelectorAll","img","addEventListener","handleImgError","target","src","imagePlaceholder","removeEventListener","handleSearchInput","add","remove","showSearchList","html","searchListItemTemplate","join","handleDocumentClick","ms","fn","timer","wrapper","args","clearTimeout","debounce","handleSearchInputFocus","handleClearButtonClick","handleSearchListClick","dataset","fetchMovieById","handleMovieListClick","movieCard","closest","inner","movieData","movieFullCardTemplate","handlePopupClick","init","focus","log","requirements"],"sourceRoot":""}