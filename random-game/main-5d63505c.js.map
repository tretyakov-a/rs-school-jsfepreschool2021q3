{"version":3,"file":"main-5d63505c.js","mappings":"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","sources":["webpack:///./templates/game-top-panel.ejs","webpack:///./templates/modal-content.ejs","webpack:///./templates/statistics/statistics.ejs","webpack:///./templates/statistics/tab-button.ejs","webpack:///./templates/statistics/tab.ejs","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///./js/constants.js","webpack:///./js/helpers.js","webpack:///./js/emmiter.js","webpack:///./js/cell.js","webpack:///./js/cell-key.js","webpack:///./js/game-state.js","webpack:///./js/settings.js","webpack:///./js/statistics.js","webpack:///./js/menu-tabs.js","webpack:///./js/modal.js","webpack:///./index.js","webpack:///./js/game-field.js","webpack:///./js/timer.js"],"sourcesContent":["module.exports = function anonymous(locals, escapeFn, include, rethrow\n) {\nescapeFn = escapeFn || function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nvar _ENCODE_HTML_RULES = {\n      \"&\": \"&amp;\"\n    , \"<\": \"&lt;\"\n    , \">\": \"&gt;\"\n    , '\"': \"&#34;\"\n    , \"'\": \"&#39;\"\n    }\n  , _MATCH_HTML = /[&<>'\"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n;\n  var __output = \"\";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n  with (locals || {}) {\n    ; __append(\"<div class=\\\"game__top-panel\\\">\\n  <div class=\\\"game__timer\\\">\\n    <span class=\\\"game__panel-icon\\\">\\n      <i class=\\\"far fa-clock\\\"></i>\\n    </span>\\n    <span class=\\\"game__timer-value\\\">000</span>\\n  </div>\\n  <div class=\\\"game__indicator\\\">\\n    <button class=\\\"reset-btn button\\\">\\n    </button>\\n  </div>\\n  <div class=\\\"game__flags-counter\\\">\\n    <span class=\\\"game__flags-counter-value\\\">000</span>\\n    <span class=\\\"game__panel-icon game__panel-icon_flag\\\">\\n    </span>\\n  </div>\\n</div>\")\n  }\n  return __output;\n\n}","module.exports = function anonymous(locals, escapeFn, include, rethrow\n) {\nescapeFn = escapeFn || function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nvar _ENCODE_HTML_RULES = {\n      \"&\": \"&amp;\"\n    , \"<\": \"&lt;\"\n    , \">\": \"&gt;\"\n    , '\"': \"&#34;\"\n    , \"'\": \"&#39;\"\n    }\n  , _MATCH_HTML = /[&<>'\"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n;\n  var __output = \"\";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n  with (locals || {}) {\n    ; __append(\"<div class=\\\"modal__content-row\\\">\\n  <span class=\\\"modal__content-title\\\">Difficulty:</span>\\n  <span class=\\\"modal__content-data\\\">\")\n    ; __append(escapeFn( locals.difficulty ))\n    ; __append(\"</span>\\n</div>\\n\\n<div class=\\\"modal__content-row\\\">\\n  <span class=\\\"modal__content-title\\\">Time:</span>\\n  <span class=\\\"modal__content-data\\\">\")\n    ; __append(escapeFn( locals.time ))\n    ; __append(\"</span>\\n</div>\\n\\n\")\n    ;  if (locals.isNewBestTime) { \n    ; __append(\"\\n  <div class=\\\"modal__congratulation\\\">\\n    Congratulations! Its new best time on \")\n    ; __append(escapeFn( locals.difficulty ))\n    ; __append(\" difficulty!\\n    \")\n    ;  if (locals.oldBestTime !== 0) { \n    ; __append(\"\\n    Old one is \")\n    ; __append(escapeFn( locals.oldBestTime ))\n    ; __append(\".\\n    \")\n    ;  } \n    ; __append(\"\\n  </div>\\n\")\n    ;  } \n  }\n  return __output;\n\n}","module.exports = function anonymous(locals, escapeFn, include, rethrow\n) {\nescapeFn = escapeFn || function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nvar _ENCODE_HTML_RULES = {\n      \"&\": \"&amp;\"\n    , \"<\": \"&lt;\"\n    , \">\": \"&gt;\"\n    , '\"': \"&#34;\"\n    , \"'\": \"&#39;\"\n    }\n  , _MATCH_HTML = /[&<>'\"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n;\n  var __output = \"\";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n  with (locals || {}) {\n    ; __append(\"\\n<div class=\\\"statistics\\\">\\n  <!-- <h3 class=\\\"statistics__subtitle\\\">Difficulty: \")\n    ; __append(escapeFn( locals.difficulty ))\n    ; __append(\"</h3> -->\\n  <h3 class=\\\"statistics__subtitle\\\">Difficulty: \\n    \")\n    ;  locals.blocks.forEach(function(block) { \n    ; __append(\"\\n      \")\n    ; __append( require('./tab-button.ejs')(block) )\n    ; __append(\"\\n    \")\n    ;  }); \n    ; __append(\"\\n  </h3>\\n  \")\n    ;  locals.blocks.forEach(function(block) { \n    ; __append(\"\\n    \")\n    ; __append( require('./tab.ejs')(block) )\n    ; __append(\"\\n  \")\n    ;  }); \n    ; __append(\"\\n</div>\\n\\n\")\n  }\n  return __output;\n\n}","module.exports = function anonymous(locals, escapeFn, include, rethrow\n) {\nescapeFn = escapeFn || function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nvar _ENCODE_HTML_RULES = {\n      \"&\": \"&amp;\"\n    , \"<\": \"&lt;\"\n    , \">\": \"&gt;\"\n    , '\"': \"&#34;\"\n    , \"'\": \"&#39;\"\n    }\n  , _MATCH_HTML = /[&<>'\"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n;\n  var __output = \"\";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n  with (locals || {}) {\n    ; __append(\"<button\\n  class=\\\"statistics__button \")\n    ;  if(locals.active){ \n    ; __append(\"statistics__button_active\")\n    ;  } \n    ; __append(\" button\\\"\\n  data-block-name=\\\"\")\n    ; __append(escapeFn( locals.difficulty ))\n    ; __append(\"\\\">\\n  \")\n    ; __append(escapeFn( locals.difficulty ))\n    ; __append(\"\\n</button>\")\n  }\n  return __output;\n\n}","module.exports = function anonymous(locals, escapeFn, include, rethrow\n) {\nescapeFn = escapeFn || function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nvar _ENCODE_HTML_RULES = {\n      \"&\": \"&amp;\"\n    , \"<\": \"&lt;\"\n    , \">\": \"&gt;\"\n    , '\"': \"&#34;\"\n    , \"'\": \"&#39;\"\n    }\n  , _MATCH_HTML = /[&<>'\"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n;\n  var __output = \"\";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n  with (locals || {}) {\n    ; __append(\"<div class=\\\"statistics__block \")\n    ;  if(locals.active){ \n    ; __append(\"statistics__block_active\")\n    ;  } \n    ; __append(\"\\\" data-name=\\\"\")\n    ; __append(escapeFn( locals.difficulty ))\n    ; __append(\"\\\">\\n  <div class=\\\"statistics__row\\\">\\n    <span class=\\\"statistics__row-title\\\">Total games:</span>\\n    <span class=\\\"statistics__row-data\\\">\")\n    ; __append(escapeFn( locals.gamesNumber ))\n    ; __append(\"</span>\\n  </div>\\n  <div class=\\\"statistics__row\\\">\\n    <span class=\\\"statistics__row-title\\\">Wins:</span>\\n    <span class=\\\"statistics__row-data\\\">\")\n    ; __append(escapeFn( locals.wins ))\n    ; __append(\"</span>\\n  </div>\\n  <div class=\\\"statistics__row\\\">\\n    <span class=\\\"statistics__row-title\\\">Loses:</span>\\n    <span class=\\\"statistics__row-data\\\">\")\n    ; __append(escapeFn( locals.loses ))\n    ; __append(\"</span>\\n  </div>\\n  <div class=\\\"statistics__row\\\">\\n    <span class=\\\"statistics__row-title\\\">Best time:</span>\\n    <span class=\\\"statistics__row-data\\\">\")\n    ; __append(escapeFn( locals.bestTime ))\n    ; __append(\"</span>\\n  </div>\\n  <div class=\\\"statistics__row statistics__row_column\\\">\\n    <div class=\\\"statistics__row-title\\\">Last games:</div>\\n    <table class=\\\"statistics__games\\\">\\n      <tr>\\n        <th>Result</th>\\n        <th>Time</th>\\n        <th>Date</th>\\n      </tr>\\n      \")\n    ;  locals.games.forEach(function(game, i) { \n    ; __append(\"\\n        <tr class=\\\"statistics__games-item\\\">\\n          <td class=\\\"\")\n    ;  if(game.result === 'win'){ \n    ; __append(\"statistics__games-result_win\")\n    ;  } else { \n    ; __append(\"statistics__games-result_lose\")\n    ;  } \n    ; __append(\"\\\">\")\n    ; __append(escapeFn( game.result ))\n    ; __append(\"</td>\\n          <td>\")\n    ; __append(escapeFn( game.time ))\n    ; __append(\"</td>\\n          <td>\")\n    ; __append(escapeFn( game.date ))\n    ; __append(\"</td>  \\n        </tr>\\n      \")\n    ;  }); \n    ; __append(\"\\n    </table>\\n  </div>\\n</div>\")\n  }\n  return __output;\n\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const options = {\n  difficulty: {\n    easy: {\n      mines: 10,\n      width: 9,\n      height: 9\n    },\n    medium: {\n      mines: 40,\n      width: 16,\n      height: 16\n    },\n    expert: {\n      mines: 99,\n      width: 30,\n      height: 16\n    },\n  }\n}\n\nconst GAME_FIELD_CLASS = 'game-field';\nconst CELL_CLASS = `${GAME_FIELD_CLASS}__cell`;\n\nconst setModificator = name => `${CELL_CLASS}_${name}`;\n\nconst CELL_MODIFICATORS = {\n  closed: setModificator('closed'),\n  flagged: setModificator('flagged'),\n  wronglyFlagged: setModificator('wrongly-flagged'),\n  empty: setModificator('empty'),\n  mine: setModificator('mine'),\n  mineBlowned: setModificator('mine-blowned'),\n  number: setModificator('number-'),\n  highlighted: setModificator('highlighted'),\n};\n\nconst MOUSE = {\n  LEFT: 0,\n  RIGHT: 2,\n};\n\nexport {\n  options,\n  GAME_FIELD_CLASS,\n  CELL_CLASS,\n  CELL_MODIFICATORS,\n  MOUSE\n}","function randomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\nfunction renderNumber(n, len = 3) {\n  const s = n.toString();\n  \n  return s.length < len ? '0'.repeat(len - s.length) + s : s;\n}\n\nfunction isClickOutside(e, classNames) {\n  return classNames.every(className => !e.path.find(el => {\n    return el.classList && el.classList.contains(className);\n  }));\n}\n\n\nfunction renderTime(timeMs) {\n  const ms = renderNumber(timeMs % 1000, 3);\n  // const min = renderNumber(Math.floor(timeMs / 1000 / 60), 2);\n  // const sec = renderNumber(Math.floor(timeMs / 1000) - min * 60, 2);\n  const sec = renderNumber(Math.floor(timeMs / 1000), 1);\n  return `${sec}.${ms} sec`;\n}\n\nexport {\n  randomNumber,\n  renderNumber,\n  isClickOutside,\n  renderTime\n}","export default class Emitter {\n  constructor() {\n    this.listeners = {};\n  }\n\n  emit(eventName, ...args) {\n    if (!Array.isArray(this.listeners[eventName])) {\n      return false;\n    }\n    this.listeners[eventName].forEach(listener => {\n      listener(...args);\n    });\n    return true;\n  }\n\n  subscribe(eventName, fn) {\n    if (!this.listeners[eventName]) {\n      this.listeners[eventName] = [];\n    }\n    this.listeners[eventName].push(fn);\n    \n    return () => {\n      this.listeners[eventName] =\n        this.listeners[eventName].filter(listener => listener !== fn);\n    };\n  }\n}","import Emmiter from './emmiter';\n\nexport default class Cell extends Emmiter {\n  constructor(key) {\n    super();\n    this.state = Cell.STATE_CLOSED;\n    this.value = Cell.VALUE_EMPTY;\n    this.key = key;\n  }\n\n  getKey () {\n    return this.key.value;\n  }\n\n  get state() {\n    return this._state;\n  }\n\n  set state(newState) {\n    if (newState === Cell.STATE_OPENED) {\n      if (this.value === Cell.VALUE_MINE) {\n        this.emit('mineopen', this);\n      } {\n        this.emit('cellopen', this);\n      }\n    }\n    \n    this._state = newState;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  set value(newValue) {\n    this._value = newValue;\n  }\n\n  get isOpened() {\n    return this._state === Cell.STATE_OPENED;\n  }\n\n  get isClosed() {\n    return this._state === Cell.STATE_CLOSED;\n  }\n\n  get isFlagged() {\n    return this._state === Cell.STATE_FLAGGED;\n  }\n\n  get isNumber() {\n    return Cell.isNumberValue(this._value);\n  }\n\n  get isEmpty() {\n    return this._value === Cell.VALUE_EMPTY;\n  }\n\n  get isMined() {\n    return this._value === Cell.VALUE_MINE;\n  }\n}\n\nCell.isNumberValue = (value) => {\n  return value > 0  && value <= 8;\n}\n\nCell.STATE_CLOSED = 0;\nCell.STATE_OPENED = 1;\nCell.STATE_FLAGGED = 2;\nCell.VALUE_EMPTY = 0;\nCell.VALUE_MINE = 9;\nCell.VALUE_N_1 = 1;\nCell.VALUE_N_2 = 2;\nCell.VALUE_N_3 = 3;\nCell.VALUE_N_4 = 4;\nCell.VALUE_N_5 = 5;\nCell.VALUE_N_6 = 6;\nCell.VALUE_N_7 = 7;\nCell.VALUE_N_8 = 8;\n","\n// x - row index, y - col index\nexport default class CellKey {\n  constructor(x, y) {\n    if (typeof x === 'number' && typeof y === 'number') {\n      this.x = x;\n      this.y = y;\n    } else if (typeof x === 'string' && y === undefined) {\n      this.value = x;\n    }\n  }\n\n  get x() {\n    return this._x;\n  }\n\n  set x(newX) {\n    this._x = Number(newX);\n  }\n\n  get y() { \n    return this._y;\n  }\n\n  set y(newY) {\n    this._y = Number(newY);\n  }\n\n  get value() {\n    return `${this.x}-${this.y}`;\n  }\n\n  set value(newValue) {\n    const [ x, y ] = newValue.split('-');\n    this.x = x;\n    this.y = y;\n  }\n\n  toString() {\n    return this.value;\n  }\n\n  valueOf() {\n    return this.value;\n  }\n}","import { randomNumber } from './helpers';\nimport Cell from './cell';\nimport CellKey from './cell-key';\nimport Emmiter from './emmiter';\n\nconst checks = {\n  topLeft: [-1, -1],\n  top: [-1, 0],\n  topRight: [-1, 1],\n  left: [0, -1],\n  right: [0, 1],\n  bottomLeft: [1, -1],\n  bottom: [1, 0],\n  bottomRight: [1, 1]\n};\n\nexport default class GameState extends Emmiter {\n  constructor(difficulty, onWin, onLose) {\n    super();\n    this.difficulty = difficulty;\n    this.onWin = onWin;\n    this.onLose = onLose;\n    this.isGameRunning = false;\n    this.flagsCounter = this.difficulty.mines;\n    this.cellsToOpenAmount = 0;\n    this.cellsOpenedCounter = 0;\n  }\n\n  getCell = (cellKey) => {\n    if (!this._checkCell(cellKey)) {\n      return undefined;\n    }\n    return this.state[cellKey.x][cellKey.y];\n  }\n\n  _checkCell = (cellKey) => {\n    return this.state[cellKey.x] !== undefined && this.state[cellKey.x][cellKey.y] !== undefined\n  };\n\n  flagCell = (cellKey) => {\n    const cell = this.getCell(cellKey);\n    if (cell.isOpened) {\n      return this.flagsCounter;\n    }\n    if (cell.isFlagged) {\n      this.flagsCounter += 1;\n      cell.state = Cell.STATE_CLOSED;\n    } else {\n      this.flagsCounter -= 1;\n      cell.state = Cell.STATE_FLAGGED\n    }\n\n    return this.flagsCounter;\n  }\n\n  openCell = (cellKey) => {\n    const cell = this.getCell(cellKey);\n    if (cell.isFlagged || (cell.isOpened && (cell.isMined || cell.isEmpty))) {\n      return;\n    }\n\n    if (cell.isOpened && cell.isNumber) {\n      const cells = this.getHighlightedCells(cellKey);\n      if (cells.length === 0 || cell.value > this.countFlagsAround(cellKey)) {\n        return;\n      }\n      cells.forEach(this.openCell);\n      return;\n    }\n\n    cell.state = Cell.STATE_OPENED;\n\n    if (cell.isEmpty) {\n      this._revealEmptySpace(cellKey);\n    }\n  }\n\n  reveal = (cellKey) => {\n    if (!this.isGameRunning) {\n      this.isGameRunning = true;\n      this.generateState(cellKey);\n      this.emit('gamestart');\n    }\n    this.openCell(cellKey);\n  }\n\n  openAll = () => {\n    for (let rowIdx = 0; rowIdx < this.state.length; rowIdx += 1) {\n      for (let colIdx = 0; colIdx < this.state[rowIdx].length; colIdx += 1) {        \n        const cellKey = new CellKey(rowIdx, colIdx);\n        const cell = this.getCell(cellKey);\n        if (!cell.isFlagged && cell.isClosed) {\n          cell.state = Cell.STATE_OPENED;\n        }\n      }\n    }\n  }\n\n  handleCellOpen = (cell) => {\n    if (!this.isGameRunning) {\n      return;\n    }\n\n    this.cellsOpenedCounter += 1;\n    if (this.cellsOpenedCounter === this.cellsToOpenAmount) {\n      this.isGameRunning = false;\n      this.openAll();\n      this.emit('win');\n    }\n  }\n\n  handleLose = (cell) => {\n    if (!this.isGameRunning) {\n      return;\n    }\n    this.isGameRunning = false;\n    this.openAll();\n    this.emit('lose', {\n      mineKey: cell.key,\n      wrongFlagsKeys: this._findWrongFlags(),\n    });\n  }\n\n  countFlagsAround = (cellKey) => {\n    return Object.values(checks)\n      .reduce((counter, [dx, dy]) => {\n        const newCellKey = new CellKey(cellKey.x + dx, cellKey.y + dy);\n        const cell = this.getCell(newCellKey);\n        return counter + (cell ? cell.isFlagged : 0);\n      }, 0);\n  }\n\n  getHighlightedCells = (cellKey) => {\n    return Object.values(checks)\n      .reduce((cells, [dx, dy]) => {\n        const newCellKey = new CellKey(cellKey.x + dx, cellKey.y + dy);\n        const cell = this.getCell(newCellKey);\n        if (cell && cell.isClosed) {\n          cells.push(newCellKey);\n        }\n        return cells;\n      }, []);\n  }\n\n  generateState = (cellKey) => {\n    this._generateMines(cellKey);\n    this._generateNumbers();\n  }\n\n  reset = (newDifficulty) => {\n    if (newDifficulty !== undefined) {\n      this.difficulty = newDifficulty;\n    }\n    this.isGameRunning = false;\n    this.flagsCounter = this.difficulty.mines;\n    this.cellsToOpenAmount = 0;\n    this.cellsOpenedCounter = 0;\n    this.state = this._generateInitialMatrix();\n  }\n\n  _findWrongFlags = () => {\n    const wrongFlagsKeys = [];\n    for (let rowIdx = 0; rowIdx < this.state.length; rowIdx += 1) {\n      for (let colIdx = 0; colIdx < this.state[rowIdx].length; colIdx += 1) {\n        const cellKey = new CellKey(rowIdx, colIdx);\n        const cell = this.getCell(cellKey);\n        if (cell.isFlagged && !cell.isMined) {\n          wrongFlagsKeys.push(cellKey);\n        }\n      }\n    }\n    return wrongFlagsKeys;\n  }\n\n  _revealEmptySpace = (startCellKey) => {\n    const reveal = (key, startCellKey) => {\n      const [ dx, dy ] = checks[key];\n      const newCellKey = new CellKey(startCellKey.x + dx, startCellKey.y + dy);\n      \n      const cell = this.getCell(newCellKey);\n      if (!cell || cell.isOpened || cell.isFlagged) {\n        return;\n      }\n      if (cell.isNumber) {\n        cell.state = Cell.STATE_OPENED;\n        return;\n      }\n      if (cell.isEmpty) {\n        cell.state = Cell.STATE_OPENED;\n        Object.keys(checks).forEach(checkKey => reveal(checkKey, newCellKey))\n      }\n    }\n\n    Object.keys(checks).forEach(key => reveal(key, startCellKey));\n  };\n\n  _generateInitialMatrix = () => {\n    const { width, height } = this.difficulty;\n    const matrix = [];\n    for (let rowIdx = 0; rowIdx < height; rowIdx += 1) {\n      matrix.push(new Array(width).fill(null));\n      for (let colIdx = 0; colIdx < width; colIdx += 1) {\n        const cellKey = new CellKey(rowIdx, colIdx);\n        matrix[rowIdx][colIdx] = new Cell(cellKey);\n      }\n    }\n    return matrix;\n  }\n  \n  _generateMines = (excludedCellKey) => {\n    const { mines: minesNumber, width, height } = this.difficulty;\n    const mines = {};\n    for (let k = 0; k < minesNumber; k += 1) {\n      let newCellKey;\n      do {\n        newCellKey = new CellKey(\n          randomNumber(0, height),\n          randomNumber(0, width)\n        )\n      } while (mines[newCellKey.value] || newCellKey.value === excludedCellKey.value);\n      mines[newCellKey.value] = 1;\n      const cell = this.getCell(newCellKey);\n      cell.value = Cell.VALUE_MINE;\n      cell.subscribe('mineopen', this.handleLose);\n    }\n  }\n\n  _countNeighboringMines = (cellKey) => {\n    return Object.values(checks)\n      .reduce((counter, [ dx, dy ]) => {\n        const newCellKey = new CellKey(cellKey.x + dx, cellKey.y + dy);\n        const cell = this.getCell(newCellKey);\n        return counter + (cell ? cell.isMined : 0);\n      }, 0);\n  }\n\n  _generateNumbers = () => {\n    for (let rowIdx = 0; rowIdx < this.state.length; rowIdx += 1) {\n      for (let colIdx = 0; colIdx < this.state[rowIdx].length; colIdx += 1) {\n        const cellKey = new CellKey(rowIdx, colIdx);\n        const cell = this.getCell(cellKey);\n        if (!cell.isMined) {\n          this.cellsToOpenAmount += 1;\n          const value = this._countNeighboringMines(cellKey);\n          cell.value = value;\n          cell.subscribe('cellopen', this.handleCellOpen);\n        }\n      }\n    }\n  }\n}","import { isClickOutside } from './helpers';\n\nconst settings = document.querySelector('[data-tab=\"settings\"]');\nconst difficultySelect = settings.querySelector('select[name=\"difficulty\"]');\nconst selectOptions = settings.querySelector('.custom-select__options');\nconst themeCheckbox = settings.querySelector('input[name=\"dark-theme\"]');\n\nconst defaultSettings = {\n  theme: 'light',\n  difficulty: 'easy'\n}\nlet currentSettings = loadFromLocalStorage();\nlet resetGame = null;\n\nfunction handleSettingsChange(e) {\n  switch(e.target.name) {\n    case 'difficulty': handleDifficultyChange(e); break;\n    case 'dark-theme': setTheme(e.target.checked ? 'dark' : 'light'); break;\n  }\n}\n\nfunction setTheme(theme) {\n  currentSettings.theme = theme;\n  saveToLocalStorage();\n  if (theme === 'dark') {\n    document.body.classList.add('theme-dark');\n  } else {\n    document.body.classList.remove('theme-dark');\n  }\n}\n\nfunction handleDifficultyChange(e) {\n  if (currentSettings.difficulty === e.target.value) {\n    return;\n  }\n  console.log('difficulty changed');\n  currentSettings.difficulty = e.target.value;\n  saveToLocalStorage();\n  resetGame(e, e.target.value);\n}\n\nfunction saveToLocalStorage() {\n  localStorage.setItem('settings', JSON.stringify(currentSettings));\n}\n\nfunction loadFromLocalStorage() {\n  const settings = localStorage.getItem('settings');\n  return settings ? JSON.parse(settings) : defaultSettings;\n}\n\nfunction handleDifficultySelectClick(e) {\n  selectOptions.classList.toggle('custom-select__options_show');\n}\n\nfunction handleDifficultySelectOptionsClick(e) {\n  const difficulty = e ? e.target.dataset.value : currentSettings.difficulty;\n  setActiveOption(difficulty);\n  difficultySelect.dispatchEvent(new Event('change'));\n  selectOptions.classList.remove('custom-select__options_show');\n}\n\nfunction setActiveOption(difficulty) {\n  difficultySelect.value = difficulty;\n  const options = selectOptions.querySelectorAll('.custom-select__options-item');\n  for (const option of options) {\n    option.classList.remove('custom-select__options-item_active');\n    if (option.dataset.value === difficulty) {\n      option.classList.add('custom-select__options-item_active');\n    }\n  }\n}\n\nfunction handleSettingsClick(e) {\n  if (isClickOutside(e, ['custom-select'])) {\n    selectOptions.classList.remove('custom-select__options_show');\n  }\n}\n\nexport default function init(onDifficultyChange) {\n  resetGame = onDifficultyChange;\n\n  themeCheckbox.addEventListener('change', handleSettingsChange);\n\n  settings.addEventListener('click', handleSettingsClick);\n\n  difficultySelect.addEventListener('change', handleSettingsChange);\n  difficultySelect.addEventListener('mousedown', e => e.preventDefault());\n  difficultySelect.addEventListener('click', handleDifficultySelectClick);\n\n  selectOptions.addEventListener('click', handleDifficultySelectOptionsClick);\n\n  setActiveOption(currentSettings.difficulty);\n  setTheme(currentSettings.theme);\n  themeCheckbox.checked = currentSettings.theme === 'dark';\n\n  return currentSettings;\n}\n","\nimport { renderTime } from './helpers';\nimport statisticsTemplate from '../templates/statistics/statistics.ejs';\n\nconst statisticsTab = document.querySelector('[data-tab=\"statistics\"');\nconst statistics = loadFromLocalStorage();\nconst showModificator = 'statistics__block_show';\nconst numberOfLastGamesToShow = 10;\n\nfunction updateStatistics({ difficulty, result, time }) {\n  if (statistics[difficulty] === undefined) {\n    statistics[difficulty] = [];\n  }\n  statistics[difficulty].push({\n    date: Date.now(),\n    result,\n    time,\n  });\n  localStorage.setItem('statistics', JSON.stringify(statistics));\n}\n\nfunction loadFromLocalStorage() {\n  const stats = localStorage.getItem('statistics');\n  if (stats) {\n    return JSON.parse(stats);\n  }\n  return {};\n}\n\nfunction findMinTime(difficulty) {\n  const games = statistics[difficulty];\n  if (!games) {\n    return Infinity;\n  }\n  const wins = games.filter(game => game.result === 'win');\n  return wins.length > 0 \n    ? wins.reduce((min, game) => min > game.time ? game.time : min, wins[0].time) \n    : Infinity;\n}\n\nfunction toConverted({ date, time, result }) {\n  return {\n    date: new Date(date).toLocaleString(),\n    time: renderTime(time),\n    result\n  };\n}\n\nfunction getStatisticsData(difficulty) {\n  const games = statistics[difficulty];\n  if (games.length === 0) {\n    return null;\n  }\n  const wins = games.filter(game => game.result === 'win');\n  const minTime = findMinTime(difficulty);\n  \n  return {\n    difficulty,\n    games: games.slice(-numberOfLastGamesToShow).map(toConverted).reverse(),\n    active: difficulty === 'easy' ? showModificator : '',\n    gamesNumber: games.length,\n    wins: wins.length,\n    loses: games.length - wins.length,\n    bestTime: minTime !== Infinity ? renderTime(minTime) : 'No wins yet',\n  };\n}\n\nfunction renderStatistics() {\n  const blocks = Object.keys(statistics).map(getStatisticsData).filter(el => el !== null);\n  return statisticsTemplate({ blocks });\n}\n\nfunction switchTab(btn) {\n  const btns = statisticsTab.querySelectorAll('[data-block-name]');\n  for (const btn of btns) {\n    btn.classList.remove('statistics__button_active');\n  }\n  btn.classList.add('statistics__button_active');\n\n  const blocks = statisticsTab.querySelectorAll('[data-name]');\n  for (const block of blocks) {\n    block.classList.remove('statistics__block_active');\n    if (block.dataset.name === btn.dataset.blockName) {\n      block.classList.add('statistics__block_active');\n    }\n  }\n}\n\nfunction handleStatisticsTabClick(e) {\n  const btn = e.target.closest('[data-block-name]');\n  if (btn) {\n    switchTab(btn);\n  }\n}\n\nfunction init() {\n  statisticsTab.addEventListener('click', handleStatisticsTabClick);\n}\n\nexport {\n  init,\n  updateStatistics,\n  renderStatistics,\n  findMinTime\n}","import { isClickOutside } from './helpers';\nimport { renderStatistics } from './statistics';\n\nconst tabs = document.querySelectorAll('[data-tab]');\nconst header = document.querySelector('.header');\nconst animationDuration = 400;\n\nfunction handleMenuBtnClick(e) {\n  const btn = e.target.closest('.button');\n\n  if (btn && btn.dataset.tabLink) {\n    showTab(btn.dataset.tabLink);\n  }\n}\n\nfunction hideTabs() {\n  header.classList.replace('header_show', 'header_hide');\n  setTimeout(() => {\n    header.classList.remove('header_hide');\n    showTab();\n  }, animationDuration);\n  document.removeEventListener('click', handleDocumentClick); \n}\n\nfunction showTab(tabName = '') {\n  if (tabName !== '') {\n    header.classList.add('header_show');\n  }\n\n  for (const tab of tabs) {\n    tab.classList.remove('menu-tabs__item_show');\n    if (tab.dataset.tab === tabName) {\n      if (tabName === 'statistics') {\n        const html = renderStatistics();\n        tab.querySelector('.menu-tabs__content').innerHTML = html;\n      }\n      tab.classList.add('menu-tabs__item_show');\n    }\n  }\n  setTimeout(() => {\n    document.addEventListener('click', handleDocumentClick); \n  });\n}\n\nfunction handleDocumentClick(e) {\n  if (isClickOutside(e, ['header'])\n      || e.target.closest('.menu-tabs__close-btn')) {\n    hideTabs();\n  }\n}\n\nexport default function init() {\n  document.querySelector('.header').addEventListener('click', handleMenuBtnClick);\n}","\nimport { isClickOutside, renderTime } from './helpers';\nimport renderModalContent from '../templates/modal-content.ejs';\nimport { findMinTime } from './statistics';\n\nconst modal = document.querySelector('.game__modal');\nconst title = modal.querySelector('.modal__title');\nconst content = modal.querySelector('.modal__content');\n\nconst showModificator = 'modal_show';\nconst hideModificator = 'modal_hide';\nconst winModificator = 'modal_win';\nconst loseModificator = 'modal_lose';\nconst animationDuration = 400;\n\n\nfunction renderContent(isWin, difficulty, time) {\n  const oldBestTime = findMinTime(difficulty);\n  const isNewBestTime = isWin && oldBestTime > time;\n\n  return renderModalContent({\n    isNewBestTime,\n    oldBestTime: oldBestTime !== Infinity ? renderTime(oldBestTime) : 0,\n    difficulty,\n    time: renderTime(time)\n  });\n}\n\nfunction showModal({ difficulty, result, time }) {\n  const isWin = result === 'win';\n  title.textContent = isWin ? 'You won!' : 'You lost!';\n  content.innerHTML = renderContent(isWin, difficulty, time);\n  const resultModificator = isWin ? winModificator : loseModificator;\n  modal.classList.remove(winModificator, loseModificator);\n  modal.classList.add(showModificator, resultModificator);\n  setTimeout(() => {\n    document.addEventListener('click', handleDocumentClick);\n  });\n}\n\nfunction handleDocumentClick(e) {\n  if (isClickOutside(e, ['game__modal'])\n      || e.target.closest('.modal__close-btn')) {\n    hideModal();\n  }\n}\n\nfunction hideModal() {\n  modal.classList.remove(showModificator);\n  modal.classList.add(hideModificator);\n  document.removeEventListener('click', handleDocumentClick);\n\n  setTimeout(() => {\n    modal.classList.remove(hideModificator);\n  }, animationDuration)\n}\n\nexport {\n  showModal,\n}","import './styles/index.scss';\n\nimport requirements from '../requirements.md';\nimport { options } from './js/constants';\nimport GameState from './js/game-state';\nimport GameField from './js/game-field';\nimport renderTopPanel from './templates/game-top-panel.ejs';\nimport Timer from './js/timer';\nimport { renderNumber } from './js/helpers';\nimport initSettings from './js/settings';\nimport initMenuTabs from './js/menu-tabs';\nimport { updateStatistics, init as initStatistics } from './js/statistics';\nimport { showModal } from './js/modal';\n\nlet { difficulty: currentDifficulty } = initSettings(resetGame);\n\nconst gameState = new GameState(options.difficulty[currentDifficulty]);\ngameState.subscribe('win', handleWin);\ngameState.subscribe('lose', handleLose);\n\nconst gameContainer = document.querySelector('.game');\n\ngameContainer.insertAdjacentHTML('beforeend', renderTopPanel());\n\nconst gameField = new GameField(options.difficulty[currentDifficulty], gameState);\n\nconst resetBtn = document.querySelector('.reset-btn');\nconst gameTimerLabel = document.querySelector('.game__timer-value');\nconst gameTimer = new Timer();\ngameTimer.subscribe('change', updateTimerLabel);\ngameState.subscribe('gamestart', gameTimer.start);\n\nfunction updateTimerLabel(time) {\n  gameTimerLabel.textContent = renderNumber(time);\n}\n\nfunction resetGame(e, newDifficuty = currentDifficulty) {\n  if (currentDifficulty !== newDifficuty) {\n    currentDifficulty = newDifficuty;\n  }\n  const difficulty = options.difficulty[newDifficuty];\n  gameState.reset(difficulty);\n  if (gameField.render()) {\n    gameContainer.removeChild(gameField.render());\n  }\n  gameField.reset(difficulty);\n  gameContainer.insertAdjacentElement('beforeend', gameField.render());\n  gameTimer.reset();\n  resetBtn.classList.remove('reset-btn_win', 'reset-btn_lose');\n}\n\nfunction createStatisticsData(result) {\n  return {\n    result,\n    difficulty: currentDifficulty,\n    time: gameTimer.getGameTime(),\n  };\n}\n\nfunction handleWin() {\n  gameTimer.stop();\n  resetBtn.classList.add('reset-btn_win');\n  gameField.handleWin();\n  const statisticsData = createStatisticsData('win');\n  showModal(statisticsData);\n  updateStatistics(statisticsData);\n}\n\nfunction handleLose(data) {\n  gameTimer.stop();\n  resetBtn.classList.add('reset-btn_lose');\n  gameField.handleLose(data);\n  const statisticsData = createStatisticsData('lose');\n  showModal(statisticsData);\n  updateStatistics(statisticsData);\n}\n\nresetBtn.addEventListener('click', resetGame);\n\nresetGame();\ninitMenuTabs();\ninitStatistics();\n\nconsole.log(requirements);","import Cell from './cell';\nimport CellKey from './cell-key';\nimport { GAME_FIELD_CLASS, CELL_CLASS, CELL_MODIFICATORS, MOUSE } from './constants';\nimport { renderNumber } from './helpers';\n\nexport default class GameField {\n  constructor(difficulty, gameState) {\n    this.difficulty = difficulty;\n    this.gameState = gameState;\n    this.cells = {};\n    this.highlightedCells = null;\n\n    this.flagsCounter = document.querySelector('.game__flags-counter-value');\n  }\n\n  render = () => {\n    return this.gameField;\n  }\n\n  _createCell = (cellKey) => {\n    const cell = document.createElement('td');\n    cell.classList.add(CELL_CLASS);\n    cell.classList.add(CELL_MODIFICATORS.closed);\n    cell.dataset.key = cellKey.value;\n    cell.dataset.state = Cell.STATE_CLOSED;\n    return cell;\n  }\n  \n  _createTable = () => {\n    const { width, height } = this.difficulty;\n    const table = document.createElement('table');\n    table.classList.add(GAME_FIELD_CLASS);\n    this.cells = {};\n\n    for (let rowIdx = 0; rowIdx < height; rowIdx += 1) {\n      const row = document.createElement('tr');\n      for (let colIdx = 0; colIdx < width; colIdx += 1) {\n        const cellKey = new CellKey(rowIdx, colIdx);\n        const cellEl = this._createCell(cellKey);\n        this.cells[cellKey] = cellEl;\n        row.insertAdjacentElement('beforeend', cellEl);\n      }\n      table.insertAdjacentElement('beforeend', row);\n    }\n    return table;\n  }\n  \n  getCellModificator = (value) => {\n    if (Cell.isNumberValue(value)) {\n      return CELL_MODIFICATORS.number + value;\n    } else if (value === Cell.VALUE_MINE) {\n      return CELL_MODIFICATORS.mine;\n    } else if (value === Cell.VALUE_EMPTY) {\n      return CELL_MODIFICATORS.empty;\n    }\n  }\n  \n  applyState = () => {\n    Object.keys(this.cells).forEach(key => {\n      const cellKey = new CellKey(key);\n      const cell = this.gameState.getCell(cellKey);\n      const cellEl = this.cells[key];\n      const cellElState = +cellEl.dataset.state;\n\n      if (cell.isOpened && cellElState !== Cell.STATE_OPENED) {\n        cellEl.dataset.state = Cell.STATE_OPENED;\n        cellEl.classList.remove(CELL_MODIFICATORS.closed);\n        cellEl.classList.add(this.getCellModificator(cell.value));\n  \n      } else if (cell.isFlagged && cellElState !== Cell.STATE_FLAGGED) {\n        cellEl.dataset.state = Cell.STATE_FLAGGED;\n        cellEl.classList.remove(CELL_MODIFICATORS.closed);\n        cellEl.classList.add(CELL_MODIFICATORS.flagged);\n  \n      } else if (cell.isClosed && cellElState !== Cell.STATE_CLOSED) {\n        cellEl.dataset.state = Cell.STATE_CLOSED;\n        cellEl.classList.remove(CELL_MODIFICATORS.flagged);\n        cellEl.classList.add(CELL_MODIFICATORS.closed);\n      }\n    })\n  }\n  \n  reset = (newDifficulty) => {    \n    if (newDifficulty !== undefined) {\n      this.difficulty = newDifficulty;\n    }\n    this.gameField = this._createTable();\n    this.gameField.addEventListener('mousedown', this.handleGameFieldMouseDown);\n    this.gameField.addEventListener('mouseup', this.handleGameFieldMouseUp);\n    this.gameField.addEventListener('contextmenu', this.handleGameFieldRightClick);\n\n    this.flagsCounter.textContent = renderNumber(this.gameState.flagsCounter);\n  }\n\n  handleLose = ({ mineKey, wrongFlagsKeys }) => {\n    setTimeout(() => {\n      wrongFlagsKeys.forEach(key => {\n        this.cells[key].classList.replace(\n          CELL_MODIFICATORS.flagged, \n          CELL_MODIFICATORS.wronglyFlagged\n        );\n      });\n  \n      this.cells[mineKey.value].classList.replace(\n        CELL_MODIFICATORS.mine,\n        CELL_MODIFICATORS.mineBlowned\n      );\n    })\n    this.removeEventListeners();\n  }\n\n  handleWin = () => {\n    this.removeEventListeners();\n  }\n  \n  removeEventListeners = () => {\n    this.gameField.removeEventListener('mousedown', this.handleGameFieldMouseDown);\n    this.gameField.removeEventListener('mouseup', this.handleGameFieldMouseUp);\n    // this.gameField.removeEventListener('contextmenu', this.handleGameFieldRightClick);\n  }\n\n  handleGameFieldMouseUp = (e) => {\n    const cellEl = e.target.closest(`.${CELL_CLASS}`);\n    if (!cellEl) {\n      return;\n    }\n    const cellKey = new CellKey(cellEl.dataset.key);\n    if (e.button === MOUSE.LEFT) {\n      this.gameState.reveal(cellKey);\n    }\n    if (e.button === MOUSE.RIGHT) {\n      const flagsCounter = this.gameState.flagCell(cellKey);\n      this.flagsCounter.textContent = renderNumber(flagsCounter);\n    }\n\n    //TODO: apply only revealed cells\n    this.applyState();\n  }\n  \n  handleGameFieldRightClick = (e) => {\n    e.preventDefault();\n  }\n  \n  handleDocumentMouseUp = (e) => {\n    if (this.highlightedCells !== null) {\n      this.highlightedCells.forEach(key => this.cells[key.value].classList.remove(CELL_MODIFICATORS.highlighted));\n      this.highlightedCells = null;\n      document.removeEventListener('mouseup', this.handleDocumentMouseUp);\n    }\n  }\n  \n  \n  handleGameFieldMouseDown = (e) => {\n    e.preventDefault();\n    const cellEl = e.target.closest(`.${CELL_CLASS}`);\n    if (cellEl) {\n      const cellKey = new CellKey(cellEl.dataset.key);\n      if (e.button === 0) {\n        const cell = this.gameState.getCell(cellKey);\n        if (cell.isOpened && cell.isNumber) {\n          this.highlightedCells = this.gameState.getHighlightedCells(cellKey);\n          this.highlightedCells\n            .forEach(key => this.cells[key.value].classList.add(CELL_MODIFICATORS.highlighted));\n\n          document.addEventListener('mouseup', this.handleDocumentMouseUp);\n        }\n      }\n    }\n  }\n}","import Emitter from './emmiter';\nimport { renderTime } from './helpers';\n\nexport default class Timer extends Emitter {\n\n  constructor() {\n    super();\n    this.reset();\n  }\n\n  reset() {\n    this.isRunning = false;\n    this.startTime = 0;\n    this.endTime = 0;\n    this.prevTime = 0;\n    this.secondsCounter = 0;\n    this._emitChange();\n  }\n\n  _emitChange() {\n    this.emit('change', this.secondsCounter);\n  }\n\n  start = () => {\n    this.isRunning = true;\n    this.startTime = Date.now();\n    this.prevTime = this.startTime;\n\n    const checkTime = () => {\n      if (this.isRunning) {\n        const currTime = Date.now();\n        const dt = currTime - this.prevTime;\n        if (dt >= 1000) {\n          this.secondsCounter += 1;\n          this.prevTime = currTime;\n          this._emitChange();\n        }\n        requestAnimationFrame(checkTime);\n      }\n    }\n    checkTime();\n  }\n\n  stop() {\n    this.isRunning = false;\n    this.endTime = Date.now();\n  }\n\n  getGameTime() {\n    return this.endTime - this.startTime;\n  }\n\n  renderGameTime() {\n    const time = this.getGameTime();\n    return renderTime(time);\n  }\n}\n"],"names":["module","exports","anonymous","locals","escapeFn","include","rethrow","markup","undefined","String","replace","_MATCH_HTML","encode_char","_ENCODE_HTML_RULES","c","__output","__append","s","difficulty","time","isNewBestTime","oldBestTime","blocks","forEach","block","active","gamesNumber","wins","loses","bestTime","games","game","i","result","date","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","options","easy","mines","width","height","medium","expert","CELL_CLASS","setModificator","name","CELL_MODIFICATORS","closed","flagged","wronglyFlagged","empty","mine","mineBlowned","number","highlighted","MOUSE","randomNumber","min","max","Math","floor","random","renderNumber","len","toString","length","repeat","isClickOutside","e","classNames","every","className","path","find","el","classList","contains","renderTime","timeMs","ms","Emitter","constructor","this","listeners","emit","eventName","args","Array","isArray","listener","subscribe","fn","push","filter","Cell","Emmiter","super","state","STATE_CLOSED","value","VALUE_EMPTY","getKey","_state","newState","STATE_OPENED","VALUE_MINE","_value","newValue","isOpened","isClosed","isFlagged","STATE_FLAGGED","isNumber","isNumberValue","isEmpty","isMined","VALUE_N_1","VALUE_N_2","VALUE_N_3","VALUE_N_4","VALUE_N_5","VALUE_N_6","VALUE_N_7","VALUE_N_8","CellKey","x","y","_x","newX","Number","_y","newY","split","valueOf","checks","topLeft","top","topRight","left","right","bottomLeft","bottom","bottomRight","settings","document","querySelector","difficultySelect","selectOptions","themeCheckbox","defaultSettings","theme","currentSettings","loadFromLocalStorage","localStorage","getItem","JSON","parse","resetGame","handleSettingsChange","target","handleDifficultyChange","console","log","saveToLocalStorage","setTheme","checked","body","add","remove","setItem","stringify","handleDifficultySelectClick","toggle","handleDifficultySelectOptionsClick","setActiveOption","dataset","dispatchEvent","Event","querySelectorAll","option","handleSettingsClick","statisticsTab","statistics","stats","updateStatistics","Date","now","findMinTime","Infinity","reduce","toConverted","toLocaleString","getStatisticsData","minTime","slice","map","reverse","renderStatistics","keys","statisticsTemplate","handleStatisticsTabClick","btn","closest","switchTab","btns","blockName","tabs","header","handleMenuBtnClick","tabLink","showTab","tabName","tab","html","innerHTML","setTimeout","addEventListener","handleDocumentClick","hideTabs","removeEventListener","modal","title","content","showModal","isWin","textContent","renderContent","renderModalContent","resultModificator","hideModal","currentDifficulty","init","onDifficultyChange","preventDefault","initSettings","gameState","GameState","onWin","onLose","isGameRunning","flagsCounter","cellsToOpenAmount","cellsOpenedCounter","getCell","cellKey","_checkCell","flagCell","cell","openCell","cells","getHighlightedCells","countFlagsAround","_revealEmptySpace","reveal","generateState","openAll","rowIdx","colIdx","handleCellOpen","handleLose","mineKey","wrongFlagsKeys","_findWrongFlags","values","counter","dx","dy","newCellKey","_generateMines","_generateNumbers","reset","newDifficulty","_generateInitialMatrix","startCellKey","checkKey","matrix","fill","excludedCellKey","minesNumber","k","_countNeighboringMines","handleWin","gameTimer","stop","resetBtn","gameField","statisticsData","createStatisticsData","data","gameContainer","insertAdjacentHTML","renderTopPanel","GameField","highlightedCells","render","_createCell","createElement","_createTable","table","row","cellEl","insertAdjacentElement","getCellModificator","applyState","cellElState","handleGameFieldMouseDown","handleGameFieldMouseUp","handleGameFieldRightClick","removeEventListeners","button","handleDocumentMouseUp","gameTimerLabel","Timer","isRunning","startTime","endTime","prevTime","secondsCounter","_emitChange","start","checkTime","currTime","requestAnimationFrame","getGameTime","renderGameTime","newDifficuty","removeChild","updateTimerLabel","initMenuTabs","initStatistics","requirements"],"sourceRoot":""}